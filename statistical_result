import statistics # To calculate the mean and median
import numpy as np # To calculate the variance
import pylab as p  # To calculate skewness
import scipy.stats
from scipy.stats import kurtosis
from scipy.stats import skew 
import pylab as p  # for Kurtosis
from tabulate import tabulate
import matplotlib.pyplot as plt

# Name of list for the record drawn from Monte Carlo simulation
results_drawn = []

# Change this value
total_number_of_trials = 0 

final_report = [ 
["Mean",statistics.mean(results_drawn)],
["Median",statistics.median(results_drawn)],
["Mode",statistics.mode(results_drawn)], 
["Variance",np.var(results_drawn)], 
["Skewness",skew(results_drawn)], 
["Kurtosis" , kurtosis(results_drawn)],
[f"{confidence * 100}%"+" Confidence Interval",f"True mean will lie between {mean_confidence_interval(results_drawn, confidence) }"] 
]

# Print the table of the statistical result
headers = ["Statistical measure", "Numerical output"]
print(f"\n\t\tMonte Carlo simulation for {total_number_of_trials} trials.\n" + tabulate(final_report,headers, tablefmt="psql"))
# Accompany this table with a  histogram
plt.hist(results_drawn, 300, histtype = 'bar', facecolor = 'green')
plt.ylabel("Y-AXIS LABEL")
plt.xlabel("X-AXIS LABEL")
plt.title(f"TITLE with {(total_number_of_trials)} runs")
plt.axis([1,10,0,results_drawn.count(statistics.mode(results_drawn)) * 1.2])
plt.show()


####### Optional:
'''
[ "Mode's relative frequency" , f"{results_drawn.count( statistics.mode(results_drawn) ) / total_number_of_trials * 100} %" ] , 
'''
